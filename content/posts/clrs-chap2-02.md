---
title: "算法导论 Chap2-2：插入排序"
date: 2021-03-26T11:23:07+08:00
categories: ["Algorithm"]
tags: ["CLRS", "Python"]
draft: false
---

排序就是将一个序列的数按大小进行排列，得到一个新的序列，它满足每个元素都不大于相邻的前一个元素。序列从左到右增长，因此右边是「前」，左边是「后」。每次排序的数称为键（key）。

对一个序列中的数进行排序有许多种算法，首先来看插入排序。插入排序通过对序列中的数进行比较交换，将键按其大小插入到相应位置来完成排序任务。插入排序对数组中的数进行原地（in place）排序，任何时候最多有常数个数字存储在数组外。

```python
def insertion_sort(a: list[int]) -> None:
    for j in range(1, len(a)):
         key = a[j]
         i = j - 1
         while i >= 0 and a[i] > key:
             a[i + 1] = a[i]
             i = i - 1
         a[i + 1] = key
```

与 `A[j]` 相比，变量 `key` 可以让当前要插入的元素更直观。

插入排序的关键在 `while` 循环。`while` 循环在已排序的子数组 `a[:j]` 中从前向后寻找元素插入位置，其判断条件与 `key` 的大小有关：

- `key` 不大于子数组的最小元素，那么即使遍历到第一个元素也不会有比 `key` 更小的了，所以当 `i = -1` 时停止 `while` 循环，在数组首元素 `a[0]` 的位置插入 `key`。
- `key` 大于子数组的最小元素，那就表示有元素小于 `key`，所以当 `a[i]` 小于 `key` 时停止 `while` 循环，在该元素下一位置 `a[i + 1]` 插入 `key`。
