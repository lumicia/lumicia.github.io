---
title: "算法导论 Chap10 01：基本数据结构"
date: 2021-09-04T17:37:56+08:00
categories: ["Algorithm"]
tags: ["算法导论"]
draft: false
---

在计算机上的数据经常需要进行查询和修改。为了支持对数据的高效操作，不同的操作需要使用不同的数据结构。其中能修改数据大小或使数据产生其他变化的数据结构是动态的，例如栈和队列。

## 栈

栈属于动态的数据结构，支持添加和删除元素。栈的特征是后进先出（LIFO）。

栈添加元素的操作称为 `push`，每次在栈顶添加元素。`push` 方法的参数为所添加的元素。

栈删除元素的操作称为 `pop`，每次在栈顶删除元素，因此与 `push` 的顺序相反。`pop` 方法没有参数。

栈可以多种数据结构来实现。用数组实现栈时，数组属性 `top` 指向栈顶最新插入的元素。数组元素范围如果是 $S[1..n]$，那么栈的范围就是 $S[1..S.top]$。$S[1]$ 是栈底元素，$S[S.top]$ 是栈顶元素。这样实现的栈称为定容栈。

对空栈执行 `pop` 的错误称为栈下溢（underflow），对满栈执行 `push` 的错误称为栈上溢（overflow）。

栈执行 `push`、`pop` 和判空操作的时间都为 $O(1)$。

## 队列

队列的特征是先进先出（FIFO）。

队列添加元素的操作称为 `enqueue`，每次在队尾添加元素。`enqueue` 方法的参数是所添加的元素。

队列删除元素的操作称为 `dequeue`，每次在队首删除元素。`dequeue` 方法没有参数。

用数组 $Q[1..n]$ 实现队列时，队列只包含 $n - 1$ 个元素。为什么不是 $n$ 个元素与队列具有的 `tail` 属性有关。队列的 `head` 属性指向队首元素，`tail` 属性指向新元素接下来要插入到队列中的位置，并非指向队列的队尾元素。这类似于 C++ 中迭代器的 `begin` 与 `end` 成员的行为。

队列中的元素在数组中的位置是 $Q.head, Q.head + 1, \dots, Q.tail - 1$。如果队首已经到达 $Q[n]$，而队列元素小于 $n - 1$，则接下来入列的元素的位置在 $Q[1]$。也就是说对于长度小于容积的队列，为了充分利用数组空间，将数组视为一种首尾相连的结构。

当 $Q.head = Q.tail$ 时，队列为空。开始的时候 $Q.head = Q.tail = 1$。

队列是满的有两种可能：

- 当同时有 $Q.head = 1$ 和 $Q.tail = Q.length$ 时，队列是满的。队列从 $Q[1]$ 开始，到 $Q[n - 1]$ 为止。
- 当 $Q.head = Q.tail + 1$，队列是满的。这种情况下的队列从数组中间开始，设 $Q.head = Q[i]$，则 $Q.head - 1$ 不会在队列中，是 $Q.tail$ 指向的位置，$Q.head - 2$ 是队列的最后一个元素。因此 $Q.head = Q.tail + 1$。

注意 $Q.length$ 指的是数组 $Q[1..n]$ 的长度，即 $Q.length = n$，而非队列的长度。

对空队列执行 `dequeue` 会发生下溢，对满队列执行 `enqueue` 会发生上溢。

队列执行 `enqueue` 和 `dequeue` 的时间都为 $O(1)$。

## 链表

链表是一种顺序容器，顺序由每个元素的指针决定。

单向链表中除了尾元素，每个元素都有一个指向下一个元素的指针。

双向链表中除了首尾元素，每个元素都有两个指针，一个指向上一个元素，一个指向下一个元素。首元素只有指向下一个元素的指针，尾元素只有指向上一个元素的指针。

链表支持的操作有：搜索、插入、删除等。在 $n$ 个元素的链表是搜索的最坏情况运行时间为 $\Theta(n)$，插入和删除的运行时间 $O(1)$。如果要删除特定元素，则需要先进行搜索，因此最坏运行时间为 $Th(n)$。

## 二叉树

二叉树的根结点有两个指针，分别指向左子结点和右子结点。二叉树的其他结点都有三个指针，分别指向父结点、左子结点和右子结点。

## 本章勘误

中文版第 130 页队列一节的第二段倒数第三行：

> 当 `Q.head = Q.tail + 1` 时，队列是满的...

此处和英文版第三次印刷之前一样出现句子遗失，和代码不一致，是明显的错误。英文版在第三次印刷时修正了错误，完整的句子如下：

> When`Q.head = Q.tail + 1` or both `Q.head = 1` and `Q.tail = Q.length`, the queue is full...

因此，中文翻译应当为：

> 当 `Q.head = Q.tail + 1`，或同时有 `Q.head = 1` 和 `Q.tail = Q.length`，队列是满的...
